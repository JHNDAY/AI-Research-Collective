<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data File Relationships & Complementary Analysis</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 24px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #3b82f6, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
        }

        .header p {
            font-size: 1.25rem;
            color: #cbd5e1;
            max-width: 900px;
            margin: 0 auto;
        }

        .relationship-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            margin-bottom: 32px;
        }

        .data-card {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 16px;
            padding: 24px;
            backdrop-filter: blur(10px);
            border: 2px solid;
            position: relative;
            overflow: hidden;
        }

        .data-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--accent-color);
        }

        .employer-card {
            --accent-color: #ef4444;
            border-color: rgba(239, 68, 68, 0.3);
        }

        .swing-card {
            --accent-color: #f59e0b;
            border-color: rgba(245, 158, 11, 0.3);
        }

        .agricultural-card {
            --accent-color: #22c55e;
            border-color: rgba(34, 197, 94, 0.3);
        }

        .demographic-card {
            --accent-color: #3b82f6;
            border-color: rgba(59, 130, 246, 0.3);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }

        .card-icon {
            font-size: 2rem;
            margin-right: 12px;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-color);
        }

        .data-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 16px;
        }

        .detail-item {
            background: rgba(15, 23, 42, 0.5);
            padding: 12px;
            border-radius: 8px;
            border-left: 3px solid var(--accent-color);
        }

        .detail-label {
            font-size: 0.875rem;
            color: #94a3b8;
            margin-bottom: 4px;
        }

        .detail-value {
            font-weight: 600;
            color: #e2e8f0;
        }

        .data-metrics {
            margin-top: 16px;
        }

        .metrics-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .metric-tag {
            background: rgba(var(--accent-rgb), 0.2);
            border: 1px solid rgba(var(--accent-rgb), 0.4);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .employer-card { --accent-rgb: 239, 68, 68; }
        .swing-card { --accent-rgb: 245, 158, 11; }
        .agricultural-card { --accent-rgb: 34, 197, 94; }
        .demographic-card { --accent-rgb: 59, 130, 246; }

        .relationship-matrix {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 16px;
            padding: 24px;
            backdrop-filter: blur(10px);
            border: 1px solid #475569;
            margin-bottom: 32px;
        }

        .matrix-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 24px;
            text-align: center;
        }

        .network-container {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 16px;
            padding: 24px;
            backdrop-filter: blur(10px);
            border: 1px solid #475569;
            margin-bottom: 32px;
        }

        .network-svg {
            width: 100%;
            height: 400px;
            background: rgba(15, 23, 42, 0.3);
            border-radius: 12px;
        }

        .overlap-analysis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .overlap-card {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid #475569;
        }

        .overlap-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #06b6d4;
        }

        .state-overlap {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }

        .state-tag {
            background: rgba(6, 182, 212, 0.2);
            border: 1px solid rgba(6, 182, 212, 0.4);
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
        }

        .complementary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
        }

        .complement-card {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid #475569;
        }

        .complement-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 16px;
            color: #f59e0b;
        }

        .complement-list {
            list-style: none;
        }

        .complement-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(71, 85, 105, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .complement-list li:last-child {
            border-bottom: none;
        }

        .data-type {
            font-weight: 500;
        }

        .data-contribution {
            font-size: 0.875rem;
            color: #94a3b8;
        }

        .venn-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px;
            background: rgba(15, 23, 42, 0.3);
            border-radius: 12px;
            margin: 16px 0;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 16px 0;
        }

        @media (max-width: 768px) {
            .relationship-grid {
                grid-template-columns: 1fr;
            }
            
            .data-details {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Data File Relationships & Complementary Analysis</h1>
            <p>Understanding how four distinct datasets combine to provide comprehensive economic and political insights</p>
        </div>

        <!-- Data Source Cards -->
        <div class="relationship-grid">
            <div class="data-card employer-card">
                <div class="card-header">
                    <div class="card-icon">üè¢</div>
                    <div class="card-title">Largest Employer Data</div>
                </div>
                <div class="data-details">
                    <div class="detail-item">
                        <div class="detail-label">File Type</div>
                        <div class="detail-value">Excel (.xlsx)</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Geographic Scope</div>
                        <div class="detail-value">22 States</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Data Focus</div>
                        <div class="detail-value">Corporate Dominance</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Primary Entity</div>
                        <div class="detail-value">Walmart Employment</div>
                    </div>
                </div>
                <div class="data-metrics">
                    <div class="detail-label">Key Metrics:</div>
                    <div class="metrics-list">
                        <span class="metric-tag">Employee Counts</span>
                        <span class="metric-tag">State Coverage</span>
                        <span class="metric-tag">Corporate Reach</span>
                    </div>
                </div>
            </div>

            <div class="data-card swing-card">
                <div class="card-header">
                    <div class="card-icon">üó≥Ô∏è</div>
                    <div class="card-title">Swing State Economies</div>
                </div>
                <div class="data-details">
                    <div class="detail-item">
                        <div class="detail-label">File Type</div>
                        <div class="detail-value">CSV</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Geographic Scope</div>
                        <div class="detail-value">7-9 Swing States</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Data Focus</div>
                        <div class="detail-value">Sector Employment + Risk</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Temporal</div>
                        <div class="detail-value">June 2025</div>
                    </div>
                </div>
                <div class="data-metrics">
                    <div class="detail-label">Key Metrics:</div>
                    <div class="metrics-list">
                        <span class="metric-tag">Employment by Sector</span>
                        <span class="metric-tag">Unemployment Rates</span>
                        <span class="metric-tag">Policy Vulnerabilities</span>
                    </div>
                </div>
            </div>

            <div class="data-card agricultural-card">
                <div class="card-header">
                    <div class="card-icon">üåæ</div>
                    <div class="card-title">Agricultural States</div>
                </div>
                <div class="data-details">
                    <div class="detail-item">
                        <div class="detail-label">File Type</div>
                        <div class="detail-value">CSV</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Geographic Scope</div>
                        <div class="detail-value">Top 20 Ag States</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Data Focus</div>
                        <div class="detail-value">Agricultural Economics + Politics</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Temporal</div>
                        <div class="detail-value">2024 Data</div>
                    </div>
                </div>
                <div class="data-metrics">
                    <div class="detail-label">Key Metrics:</div>
                    <div class="metrics-list">
                        <span class="metric-tag">Market Value</span>
                        <span class="metric-tag">GDP Percentage</span>
                        <span class="metric-tag">Political Representation</span>
                        <span class="metric-tag">Voter Turnout</span>
                    </div>
                </div>
            </div>

            <div class="data-card demographic-card">
                <div class="card-header">
                    <div class="card-icon">üìä</div>
                    <div class="card-title">Swing State Demographics</div>
                </div>
                <div class="data-details">
                    <div class="detail-item">
                        <div class="detail-label">File Type</div>
                        <div class="detail-value">Excel (.xls)</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Geographic Scope</div>
                        <div class="detail-value">Key Swing States</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Data Focus</div>
                        <div class="detail-value">Political Demographics</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Temporal</div>
                        <div class="detail-value">2020-2024</div>
                    </div>
                </div>
                <div class="data-metrics">
                    <div class="detail-label">Key Metrics:</div>
                    <div class="metrics-list">
                        <span class="metric-tag">Electoral Votes</span>
                        <span class="metric-tag">Population Growth</span>
                        <span class="metric-tag">Foreign Born %</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Geographic Overlap Analysis -->
        <div class="relationship-matrix">
            <h2 class="matrix-title">Geographic & Data Overlaps</h2>
            <div class="overlap-analysis">
                <div class="overlap-card">
                    <div class="overlap-title">üè¢ + üó≥Ô∏è Employer + Swing States</div>
                    <div class="state-overlap">
                        <span class="state-tag">Arizona</span>
                        <span class="state-tag">Florida</span>
                        <span class="state-tag">Georgia</span>
                    </div>
                    <p style="font-size: 0.875rem; color: #94a3b8; margin-top: 8px;">
                        States where Walmart dominance intersects with electoral battlegrounds
                    </p>
                </div>

                <div class="overlap-card">
                    <div class="overlap-title">üè¢ + üåæ Employer + Agricultural</div>
                    <div class="state-overlap">
                        <span class="state-tag">Illinois</span>
                        <span class="state-tag">Indiana</span>
                        <span class="state-tag">Kansas</span>
                    </div>
                    <p style="font-size: 0.875rem; color: #94a3b8; margin-top: 8px;">
                        Agricultural powerhouses also dominated by Walmart employment
                    </p>
                </div>

                <div class="overlap-card">
                    <div class="overlap-title">üó≥Ô∏è + üåæ Swing + Agricultural</div>
                    <div class="state-overlap">
                        <span class="state-tag">North Carolina</span>
                        <span class="state-tag">Wisconsin</span>
                    </div>
                    <p style="font-size: 0.875rem; color: #94a3b8; margin-top: 8px;">
                        Swing states with significant agricultural economies
                    </p>
                </div>

                <div class="overlap-card">
                    <div class="overlap-title">üìä + üó≥Ô∏è Demographics + Swing</div>
                    <div class="state-overlap">
                        <span class="state-tag">Arizona</span>
                        <span class="state-tag">Georgia</span>
                        <span class="state-tag">Michigan</span>
                        <span class="state-tag">Pennsylvania</span>
                        <span class="state-tag">Wisconsin</span>
                        <span class="state-tag">Florida</span>
                    </div>
                    <p style="font-size: 0.875rem; color: #94a3b8; margin-top: 8px;">
                        Complete demographic and economic profiles for swing states
                    </p>
                </div>
            </div>
        </div>

        <!-- Data Relationship Network -->
        <div class="network-container">
            <h2 class="matrix-title">Data Complementarity Network</h2>
            <svg class="network-svg" id="networkSvg"></svg>
        </div>

        <!-- Complementary Analysis -->
        <div class="complementary-grid">
            <div class="complement-card">
                <div class="complement-title">üéØ Data Perspectives</div>
                <ul class="complement-list">
                    <li>
                        <span class="data-type">Corporate Lens</span>
                        <span class="data-contribution">Single employer dominance</span>
                    </li>
                    <li>
                        <span class="data-type">Sectoral Lens</span>
                        <span class="data-contribution">Economy-wide employment risks</span>
                    </li>
                    <li>
                        <span class="data-type">Industry Lens</span>
                        <span class="data-contribution">Agricultural dependency</span>
                    </li>
                    <li>
                        <span class="data-type">Political Lens</span>
                        <span class="data-contribution">Electoral demographics</span>
                    </li>
                </ul>
            </div>

            <div class="complement-card">
                <div class="complement-title">‚ö†Ô∏è Risk Assessment Types</div>
                <ul class="complement-list">
                    <li>
                        <span class="data-type">Corporate Risk</span>
                        <span class="data-contribution">Single employer dependency</span>
                    </li>
                    <li>
                        <span class="data-type">Policy Risk</span>
                        <span class="data-contribution">Sector vulnerability notes</span>
                    </li>
                    <li>
                        <span class="data-type">Economic Risk</span>
                        <span class="data-contribution">Agricultural dependency</span>
                    </li>
                    <li>
                        <span class="data-type">Political Risk</span>
                        <span class="data-contribution">Electoral volatility</span>
                    </li>
                </ul>
            </div>

            <div class="complement-card">
                <div class="complement-title">üìà Analytical Dimensions</div>
                <ul class="complement-list">
                    <li>
                        <span class="data-type">Geographic</span>
                        <span class="data-contribution">22 ‚Üí 20 ‚Üí 9 ‚Üí 7 states</span>
                    </li>
                    <li>
                        <span class="data-type">Temporal</span>
                        <span class="data-contribution">2020-2025 timeframe</span>
                    </li>
                    <li>
                        <span class="data-type">Economic</span>
                        <span class="data-contribution">Micro ‚Üí sector ‚Üí industry</span>
                    </li>
                    <li>
                        <span class="data-type">Political</span>
                        <span class="data-contribution">Corporate ‚Üí electoral influence</span>
                    </li>
                </ul>
            </div>

            <div class="complement-card">
                <div class="complement-title">üîó Integration Value</div>
                <ul class="complement-list">
                    <li>
                        <span class="data-type">Cross-Validation</span>
                        <span class="data-contribution">Multiple data sources</span>
                    </li>
                    <li>
                        <span class="data-type">Triangulation</span>
                        <span class="data-contribution">Economic + political + corporate</span>
                    </li>
                    <li>
                        <span class="data-type">Completeness</span>
                        <span class="data-contribution">Micro to macro perspectives</span>
                    </li>
                    <li>
                        <span class="data-type">Actionability</span>
                        <span class="data-contribution">Policy impact assessments</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Data Flow Diagram -->
        <div class="network-container">
            <h2 class="matrix-title">Data Integration Flow</h2>
            <div class="chart-container">
                <canvas id="flowChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        // Create network visualization
        function createNetworkVisualization() {
            const svg = d3.select("#networkSvg");
            const width = svg.node().getBoundingClientRect().width;
            const height = 400;

            svg.selectAll("*").remove();

            const nodes = [
                { id: "employer", label: "Employer Data", type: "employer", x: width * 0.2, y: height * 0.3, color: "#ef4444" },
                { id: "swing", label: "Swing State Economies", type: "swing", x: width * 0.8, y: height * 0.3, color: "#f59e0b" },
                { id: "agricultural", label: "Agricultural States", type: "agricultural", x: width * 0.2, y: height * 0.7, color: "#22c55e" },
                { id: "demographic", label: "Demographics", type: "demographic", x: width * 0.8, y: height * 0.7, color: "#3b82f6" }
            ];

            const links = [
                { source: "employer", target: "swing", type: "geographic", label: "3 States Overlap" },
                { source: "employer", target: "agricultural", type: "economic", label: "3 States Overlap" },
                { source: "swing", target: "agricultural", type: "political", label: "2 States Overlap" },
                { source: "swing", target: "demographic", type: "complete", label: "Full Integration" },
                { source: "agricultural", target: "demographic", type: "analysis", label: "Political Analysis" },
                { source: "employer", target: "demographic", type: "indirect", label: "Corporate Influence" }
            ];

            // Create links
            const linkElements = svg.selectAll(".link")
                .data(links)
                .enter()
                .append("line")
                .attr("class", "link")
                .attr("x1", d => nodes.find(n => n.id === d.source).x)
                .attr("y1", d => nodes.find(n => n.id === d.source).y)
                .attr("x2", d => nodes.find(n => n.id === d.target).x)
                .attr("y2", d => nodes.find(n => n.id === d.target).y)
                .attr("stroke", "#64748b")
                .attr("stroke-width", 2)
                .attr("stroke-dasharray", d => d.type === "indirect" ? "5,5" : "none")
                .attr("opacity", 0.7);

            // Create nodes
            const nodeElements = svg.selectAll(".node")
                .data(nodes)
                .enter()
                .append("g")
                .attr("class", "node")
                .attr("transform", d => `translate(${d.x}, ${d.y})`);

            // Node circles
            nodeElements.append("circle")
                .attr("r", 40)
                .attr("fill", d => d.color)
                .attr("opacity", 0.8)
                .attr("stroke", "#ffffff")
                .attr("stroke-width", 2);

            // Node labels
            nodeElements.append("text")
                .attr("text-anchor", "middle")
                .attr("dy", "0.35em")
                .attr("fill", "white")
                .attr("font-size", "12px")
                .attr("font-weight", "bold")
                .text(d => d.label.split(" ")[0]);

            nodeElements.append("text")
                .attr("text-anchor", "middle")
                .attr("dy", "1.5em")
                .attr("fill", "white")
                .attr("font-size", "10px")
                .text(d => d.label.split(" ").slice(1).join(" "));

            // Link labels
            svg.selectAll(".link-label")
                .data(links)
                .enter()
                .append("text")
                .attr("class", "link-label")
                .attr("x", d => (nodes.find(n => n.id === d.source).x + nodes.find(n => n.id === d.target).x) / 2)
                .attr("y", d => (nodes.find(n => n.id === d.source).y + nodes.find(n => n.id === d.target).y) / 2)
                .attr("text-anchor", "middle")
                .attr("fill", "#cbd5e1")
                .attr("font-size", "10px")
                .attr("background", "rgba(15, 23, 42, 0.8)")
                .text(d => d.label);
        }

        // Create flow chart
        function createFlowChart() {
            const ctx = document.getElementById('flowChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [
                        'Corporate Employment (22 states)',
                        'Sectoral Analysis (9 swing states)', 
                        'Agricultural Economics (20 states)',
                        'Political Demographics (swing states)'
                    ],
                    datasets: [{
                        data: [22, 9, 20, 9],
                        backgroundColor: [
                            'rgba(239, 68, 68, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(59, 130, 246, 0.8)'
                        ],
                        borderColor: [
                            '#ef4444',
                            '#f59e0b',
                            '#22c55e',
                            '#3b82f6'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#cbd5e1',
                                padding: 20,
                                usePointStyle: true
                            }
                        },
                        title: {
                            display: true,
                            text: 'Geographic Coverage by Dataset',
                            color: '#e2e8f0',
                            font: {
                                size: 16,
                                weight: 'bold'
                            }
                        }
                    }
                }
            });
        }

        // Initialize visualizations
        document.addEventListener('DOMContentLoaded', function() {
            createNetworkVisualization();
            createFlowChart();
            
            // Make network responsive
            window.addEventListener('resize', function() {
                createNetworkVisualization();
            });
        });
    </script>
</body>
</html>